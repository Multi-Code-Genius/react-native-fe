export const users = [
  {
    name: 'User1',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIzY2Y1MDMzZi1iMWJiLTQ4MTYtYWNhMC1mZTRhNTlhNGQ0NDUiLCJuYW1lIjoiSmF5IiwiZW1haWwiOiJqYXlAZ21haWwuY29tIiwiaWF0IjoxNzQ1NDg1NDIyLCJleHAiOjE3NDYwOTAyMjJ9.WFyvE8FqmKlvxxPw2B7DFSAOWxKoaDgl7leNzguFpMg',
  },
  {
    name: 'User2',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJmZGVhZTgyNS0xYzBhLTQwMGEtOWE1Yy04NmJjMmMzMmViMWUiLCJuYW1lIjoiRGV2ZWxvcGVyIiwiZW1haWwiOiJkZXZAZ21haWwuY29tIiwiaWF0IjoxNzQ1NDg1NDQ1LCJleHAiOjE3NDYwOTAyNDV9.fKmTg5VJjN1mjHTfXhlG-5UHJL_S4GE7f3ALAYrQtxk',
  },
  {
    name: 'User3',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2OTZlOTkzZS04ZGZjLTQwMGYtOGRmMi00YmQ4NmM2MzQzNjQiLCJuYW1lIjoiemVlbCIsImVtYWlsIjoiemVlbG01OUBnbWFpbC5jb20iLCJpYXQiOjE3NDU0ODU0NzMsImV4cCI6MTc0NjA5MDI3M30.ACwkMdGHBDgLcKWhqYkAYi26KSASpmZypEh032aAlYs',
  },
  {
    name: 'User4',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI5MWZkNWVjZS00YmYxLTQ4MzAtOGFjNy04NjdmM2EzY2Y0ZjAiLCJuYW1lIjoiUHJlZXQgUGFuZHlhIiwiZW1haWwiOiJwYW5keWFAZ21haWwuY29tIiwiaWF0IjoxNzQ1NDg1NTA4LCJleHAiOjE3NDYwOTAzMDh9.2jNXlNxRWWFopBXPQyYkPD3zZHLZIzR47RBtf6scNAg',
  },
  {
    name: 'User5',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlM2JkNmRjMC0xZGZmLTQyZDAtYWYwYi1hMjMxYWRkYWQ5OTEiLCJuYW1lIjoiaXNoaWthIiwiZW1haWwiOiJpc2hpa2FAZ21haWwuY29tIiwiaWF0IjoxNzQ1NDg1NTQ0LCJleHAiOjE3NDYwOTAzNDR9.MMnX1G-hmLUwQHiWf9frTTYddjBgKHmDWnAZRlaq0rQ',
  },
  {
    name: 'User6',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlNWM3NDExYi0yYzU0LTQ3ZGQtODUxMS1lZTg3ZmQyMTliYWYiLCJuYW1lIjoiYWIgZGUgdmlsbGllcnMiLCJlbWFpbCI6ImFiQGdtYWlsLmNvbSIsImlhdCI6MTc0NTQ4NTU3NiwiZXhwIjoxNzQ2MDkwMzc2fQ.EtjP6A200Socw02D5BkoUiUEs9oSFT6mdYmqGgH5tnw',
  },
  {
    name: 'User7',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJmOGQ0OTFlNy02N2IyLTRlOGYtOWZjZS02MmUyZmZlN2Y4YmQiLCJuYW1lIjoidGVzdCIsImVtYWlsIjoidGVzdEBnbWFpbC5jb20iLCJpYXQiOjE3NDU0ODU2MDksImV4cCI6MTc0NjA5MDQwOX0.oNPhtB353f6qWfaSNsOEgnLxjtt20xFgBp11YGAqPbg',
  },
  {
    name: 'User8',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJmMDk0ZmRhOC03YTJkLTRmYTAtOWY2Yi0wZTc1ODUyZjBmOGYiLCJuYW1lIjoiU2hpdiAiLCJlbWFpbCI6InNoaXZsYWhlamF0MTIzQGdtYWlsLmNvbSIsImlhdCI6MTc0NTQ5MTMwOCwiZXhwIjoxNzQ2MDk2MTA4fQ.RxFvROUZaiccQKtcQ_cTgY6J-TQ9Ex90YGm65hiurCk',
  },
  {
    name: 'User9',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxOGE5ZjM0OS1hZjIxLTRlZTAtODJjNi0zNjhmNDc0MGI2YmMiLCJuYW1lIjoiTG9yZCBEaW5lc2ggS2FrYSIsImVtYWlsIjoia2luZ2RpbmVzaEBnbWFpbC5jb20iLCJpYXQiOjE3NDU0OTEzODgsImV4cCI6MTc0NjA5NjE4OH0.AIsl0akfLXGFqBbDEXwiMPVb8b9EaBOnfb76yDtwc1o',
  },
  {
    name: 'User10',
    token:
      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI4MmFhNDMyMy1kZjhjLTRkMWQtOTI5ZS00NzNiNzFlZWFiMjIiLCJuYW1lIjoiVXNlciIsImVtYWlsIjoidXNlckB1LmNvbSIsImlhdCI6MTc0NTQ5MTQ0NSwiZXhwIjoxNzQ2MDk2MjQ1fQ.-CCCyKWWjCjPTDT8DNS-Zd5wd1MpPUmzTmbMRJvQ1H8',
  },
];

export const callApi = async (user: {name: string; token: string}) => {
  try {
    const data = {
      ...JSON.parse(raw),
      user: user.name,
    };
    const res = await fetch(
      'http://192.168.1.17:5001/api/room/find-or-create',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          Authorization: user.token,
        },
        body: JSON.stringify(data),
      },
    );

    if (!res.ok) {
      console.error(`Error for ${user.name}:`, await res.text());
    } else {
      console.log(`Success for ${user.name}:`, await res.json());
    }
  } catch (err) {
    console.error('API call failed for ', err);
  }
};

export const call = async () => {
  const allCalls = users.map(user => callApi(user));
  await Promise.all(allCalls);
};

export const raw = JSON.stringify({
  latitude: 19.076,
  longitude: 72.8777,
  platform: 'platform Name',
});
